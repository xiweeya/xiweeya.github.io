<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
    <meta content="IE=Edge" http-equiv="X-UA-Compatible">
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta content="telephone=no" name="format-detection">
    <title>Test</title>
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->
    <style>
        *{
            box-sizing: border-box;
        }
        .prompt{
            position: fixed;
            padding: 0 10%;
            top: 30%;
            left: 0;
            right: 0;
            width: 100%;
            text-align: center;
            opacity: 0;
            transition: opacity 500ms;
        }
        .prompt>p{
            display: inline-block;
            padding: 8px 10px;
            color: #fff;
            background-color: rgba(0,0,0,.7);
            text-align: center;
            border-radius: 5px;
        }

    </style>
</head>
<body>
<p>输入提示文字，点击提交按钮查看效果：</p>
<div>
    <input type="text" id="hint" name="hint">
    <button id="submit">提交</button>
</div>
<script>
    function $(id) {
        return document.getElementById(id)
    }
    /**
     * 自动消失的提示框 Prompt
     * 从开始显示到完全隐藏共 2s
     * @constructor
     */
    class PromptBox{
        constructor(){
            let _box = document.getElementById('prompt');
            if(!_box){
                // 提示框还未生成 创建提示框
                _box = document.createElement('DIV');
                _box.className = 'prompt';
                _box.setAttribute('id', 'prompt');
                document.body.appendChild(_box);
            }
            this.box = _box;
        }

        /**
         * 展示提示框（若没有则新建一个）
         * @param msg
         */
        show(msg) {
            let _this = this;
            _this.box.innerHTML = '<p>'+ msg +'</p>';
            _this.box.style.display = 'block';
            setTimeout(function () {
                _this.box.style.opacity = '1'; // 渐变显示
            }, 0);
            _this.hide();
        }
        /**
         * 隐藏提示框（渐变消失）
         */
        hide() {
            let _box = this.box;
            // 500ms opacity 的渐变时间，1s 后开始执行隐藏方法
            setTimeout(function () {
                _box.style.opacity = '0'; // 500ms 渐变隐藏
                setTimeout(function () {
                    _box.style.display = 'none';
                }, 500);
            }, 1500);
        }
    }

    // 使用：
    let hint = $('hint'),
        submit = $('submit'),
        prompt = new PromptBox();
    submit.addEventListener('click', function (e) {
        let _hint = hint.value.replace(/(^\s*)|(\s*$)/g ,'');
        if(_hint.length === 0){
            prompt.show('请输入提示文字');
        }else{
            prompt.show(_hint);
        }
        e.stopPropagation();
        e.preventDefault();
    })
</script>
</body>
</html>